<view class="apply-container">
  <view class="form-header">
    <view class="header-title">ç”³è¯·åŠ å…¥å…¬å¸</view>
    <view class="header-desc">é€‰æ‹©è¦åŠ å…¥çš„å…¬å¸</view>
  </view>

  <view class="form-content">
    <!-- æœç´¢æ¡† -->
    <view class="search-section">
      <t-input
        value="{{searchKeyword}}"
        placeholder="æœç´¢å…¬å¸åç§°"
        prefix-icon="search"
        bind:change="onSearchChange"
        bind:confirm="handleSearch"
      />
    </view>

    <!-- å…¬å¸åˆ—è¡¨ -->
    <view class="company-list" wx:if="{{companyList.length > 0}}">
      <view class="list-title">å¯ç”³è¯·çš„å…¬å¸</view>
      <view 
        class="company-item" 
        wx:for="{{companyList}}" 
        wx:key="id"
        bind:tap="selectCompany"
        data-company="{{item}}"
      >
        <view class="company-info">
          <view class="company-name">{{item.name}}</view>
          <view class="company-desc" wx:if="{{item.description}}">{{item.description}}</view>
          <view class="company-meta">
            <text class="meta-item">æˆå‘˜ï¼š{{item.memberCount}}äºº</text>
            <text class="meta-item">åˆ›å»ºæ—¶é—´ï¼š{{item.createTimeText}}</text>
          </view>
        </view>
        <view class="company-action">
          <t-button size="small" theme="primary">ç”³è¯·åŠ å…¥</t-button>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:else>
      <view class="empty-icon">ğŸ¢</view>
      <view class="empty-text">æš‚æ— å¯ç”³è¯·çš„å…¬å¸</view>
      <view class="empty-desc">è¯·è”ç³»å…¬å¸ç®¡ç†å‘˜è·å–å…¬å¸ä¿¡æ¯</view>
    </view>

    <!-- æˆ‘çš„ç”³è¯·è®°å½• -->
    <view class="my-applications" wx:if="{{myApplications.length > 0}}">
      <view class="section-title">æˆ‘çš„ç”³è¯·è®°å½•</view>
      <view 
        class="application-item" 
        wx:for="{{myApplications}}" 
        wx:key="id"
      >
        <view class="application-info">
          <view class="application-company">{{item.companyName}}</view>
          <view class="application-time">ç”³è¯·æ—¶é—´ï¼š{{item.applyTimeText}}</view>
        </view>
        <view class="application-status">
          <t-tag 
            theme="{{item.status === 'pending' ? 'warning' : (item.status === 'approved' ? 'success' : 'danger')}}"
          >
            {{item.statusText}}
          </t-tag>
        </view>
      </view>
    </view>
  </view>
</view> 