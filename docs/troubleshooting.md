# é—®é¢˜æ’æŸ¥æŒ‡å—

## ğŸš¨ å·²è§£å†³çš„é—®é¢˜

### 1. å¼€å‘è€…å·¥å…·è·¯ç”±é”™è¯¯

#### é—®é¢˜æè¿°
```
routeDone with a webviewId 27 is not found
(env: Windows,mp,1.06.2503300; lib: 3.8.8)
```

#### é—®é¢˜æ€§è´¨
- âš ï¸ è¿™æ˜¯**å¼€å‘è€…å·¥å…·çš„å†…éƒ¨é”™è¯¯**ï¼Œä¸æ˜¯ä»£ç é—®é¢˜
- âš ï¸ é€šå¸¸ä¸ä¼šå½±å“å°ç¨‹åºçš„å®é™…åŠŸèƒ½
- âš ï¸ ä¸»è¦åœ¨å¼€å‘è°ƒè¯•é˜¶æ®µå‡ºç°

#### åŸå› åˆ†æ
1. **é¡µé¢è·³è½¬è¿‡å¿«** - åœ¨é¡µé¢è¿˜æœªå®Œå…¨åŠ è½½æ—¶å°±è¿›è¡Œäº†è·³è½¬
2. **å¼€å‘è€…å·¥å…·ç¼“å­˜é—®é¢˜** - å·¥å…·å†…éƒ¨çŠ¶æ€ç®¡ç†å‡ºç°å¼‚å¸¸
3. **çƒ­é‡è½½å†²çª** - ä»£ç ä¿®æ”¹æ—¶çš„çƒ­é‡è½½ä¸é¡µé¢çŠ¶æ€å†²çª
4. **webviewç”Ÿå‘½å‘¨æœŸç®¡ç†** - å¼€å‘è€…å·¥å…·çš„webviewç®¡ç†å‡ºç°é—®é¢˜

#### è§£å†³æ–¹æ¡ˆ

**æ–¹æ³•1: é‡å¯å¼€å‘è€…å·¥å…·ï¼ˆæ¨èï¼‰**
```bash
# å®Œå…¨å…³é—­å¾®ä¿¡å¼€å‘è€…å·¥å…·
# é‡æ–°æ‰“å¼€é¡¹ç›®
```

**æ–¹æ³•2: æ¸…ç†é¡¹ç›®ç¼“å­˜**
```bash
# åœ¨å¼€å‘è€…å·¥å…·ä¸­ï¼š
# å·¥å…· -> æ„å»ºnpm -> æ¸…ç†æ„å»ºæ–‡ä»¶
# é¡¹ç›® -> æ¸…ç†ç¼“å­˜ -> æ¸…ç†å…¨éƒ¨
```

**æ–¹æ³•3: é‡æ–°ç¼–è¯‘é¡¹ç›®**
```bash
# ä¿®æ”¹ä»»æ„æ–‡ä»¶è§¦å‘é‡æ–°ç¼–è¯‘
# æˆ–è€…é‡æ–°ä¿å­˜ä¸»è¦æ–‡ä»¶
```

**æ–¹æ³•4: æ£€æŸ¥é¡µé¢è·³è½¬é€»è¾‘**
```javascript
// åœ¨é¡µé¢è·³è½¬æ—¶æ·»åŠ å»¶è¿Ÿï¼Œé¿å…è¿‡å¿«è·³è½¬
onNavigateToInput() {
  setTimeout(() => {
    wx.navigateTo({
      url: '/pages/input/input'
    })
  }, 100)
}
```

#### é¢„é˜²æªæ–½
1. **é¿å…é¢‘ç¹é¡µé¢è·³è½¬**
2. **ç­‰å¾…é¡µé¢å®Œå…¨åŠ è½½åå†è·³è½¬**
3. **å®šæœŸé‡å¯å¼€å‘è€…å·¥å…·**
4. **ä¿æŒå¼€å‘è€…å·¥å…·ç‰ˆæœ¬æ›´æ–°**

### 2. WXSSç¼–è¯‘é”™è¯¯

#### é—®é¢˜æè¿°
```
[ WXSS æ–‡ä»¶ç¼–è¯‘é”™è¯¯] 
./app.wxss(18:1): unexpected token `*`
```

#### åŸå› åˆ†æ
- WXSSä¸æ”¯æŒCSSé€šé…ç¬¦é€‰æ‹©å™¨`*`
- åœ¨å­—ä½“ç¦ç”¨è§„åˆ™ä¸­ä½¿ç”¨äº†ä¸å…¼å®¹çš„è¯­æ³•

#### è§£å†³æ–¹æ¡ˆ
å°†é€šé…ç¬¦é€‰æ‹©å™¨æ”¹ä¸ºå…·ä½“çš„å…ƒç´ é€‰æ‹©å™¨ï¼š

```css
/* ä¿®å¤å‰ï¼ˆé”™è¯¯ï¼‰ */
* {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif !important;
}

/* ä¿®å¤åï¼ˆæ­£ç¡®ï¼‰ */
page, view, text, button, input, textarea {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif !important;
}
```

### 3. å›¾æ ‡èµ„æºåŠ è½½å¤±è´¥

#### é—®é¢˜æè¿°
```
Failed to load local image resource /miniprogram_npm/tdesign-miniprogram/image/assets/icons/input.png
Failed to load local image resource /miniprogram_npm/tdesign-miniprogram/image/assets/icons/analysis.png
Failed to load local image resource /miniprogram_npm/tdesign-miniprogram/image/assets/icons/history.png
Failed to load local image resource /miniprogram_npm/tdesign-miniprogram/image/assets/icons/report.png
```

#### åŸå› åˆ†æ
- ä»£ç ä¸­å¼•ç”¨äº†TDesignç»„ä»¶åº“ä¸­ä¸å­˜åœ¨çš„å›¾æ ‡è·¯å¾„
- ç¼ºå°‘`history.png`å›¾æ ‡æ–‡ä»¶
- å›¾æ ‡è·¯å¾„ä½¿ç”¨äº†ç›¸å¯¹è·¯å¾„è€Œéç»å¯¹è·¯å¾„

#### è§£å†³æ–¹æ¡ˆ
1. **åˆ›å»ºç¼ºå¤±çš„å›¾æ ‡æ–‡ä»¶**
   ```bash
   # å¤åˆ¶ç°æœ‰å›¾æ ‡ä½œä¸ºhistoryå›¾æ ‡
   copy "miniprogram\assets\icons\report.png" "miniprogram\assets\icons\history.png"
   ```

2. **ä¿®å¤å›¾æ ‡è·¯å¾„**
   - å°†`assets/icons/xxx.png`æ”¹ä¸º`/assets/icons/xxx.png`
   - ä½¿ç”¨é¡¹ç›®è‡ªå·±çš„å›¾æ ‡èµ„æºè€ŒéTDesignçš„

3. **å½“å‰å›¾æ ‡æ–‡ä»¶åˆ—è¡¨**
   ```
   miniprogram/assets/icons/
   â”œâ”€â”€ analysis.png        âœ… å­˜åœ¨
   â”œâ”€â”€ analysis-active.png âœ… å­˜åœ¨
   â”œâ”€â”€ input.png          âœ… å­˜åœ¨
   â”œâ”€â”€ input-active.png   âœ… å­˜åœ¨
   â”œâ”€â”€ history.png        âœ… å·²åˆ›å»º
   â”œâ”€â”€ report.png         âœ… å­˜åœ¨
   â”œâ”€â”€ report-active.png  âœ… å­˜åœ¨
   â”œâ”€â”€ home.png           âœ… å­˜åœ¨
   â””â”€â”€ home-active.png    âœ… å­˜åœ¨
   ```

### 4. å­—ä½“æ–‡ä»¶åŠ è½½å¤±è´¥

#### é—®é¢˜æè¿°
```
Failed to load font https://tdesign.gtimg.com/icon/0.3.2/fonts/t.woff
net::ERR_CACHE_MISS
```

#### åŸå› åˆ†æ
- TDesignç»„ä»¶åº“å°è¯•ä»å¤–éƒ¨CDNåŠ è½½å›¾æ ‡å­—ä½“
- å°ç¨‹åºç¯å¢ƒé™åˆ¶å¤–éƒ¨èµ„æºè®¿é—®
- ç½‘ç»œç¯å¢ƒå¯èƒ½é˜»æ­¢å¤–éƒ¨å­—ä½“åŠ è½½

#### è§£å†³æ–¹æ¡ˆ
åœ¨`miniprogram/app.wxss`ä¸­æ·»åŠ å­—ä½“ç¦ç”¨è§„åˆ™ï¼š

```css
/* ç¦ç”¨ TDesign å­—ä½“åŠ è½½ï¼Œé¿å…ç½‘ç»œè¯·æ±‚é”™è¯¯ */
@font-face {
  font-family: 't-icon';
  src: none !important;
}

/* ç¦ç”¨æ‰€æœ‰å¯èƒ½çš„å¤–éƒ¨å­—ä½“åŠ è½½ */
.t-icon,
[class*="t-icon-"],
[class^="t-icon-"] {
  font-family: inherit !important;
}

/* ç¡®ä¿ä¸åŠ è½½ä»»ä½•å¤–éƒ¨å­—ä½“èµ„æº */
* {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif !important;
}
```

## ğŸ”§ é¢„é˜²æªæ–½

### 1. å›¾æ ‡ç®¡ç†æœ€ä½³å®è·µ
- âœ… ä½¿ç”¨é¡¹ç›®è‡ªå·±çš„å›¾æ ‡èµ„æº
- âœ… ç»Ÿä¸€å›¾æ ‡å‘½åè§„èŒƒ
- âœ… ä½¿ç”¨ç»å¯¹è·¯å¾„å¼•ç”¨å›¾æ ‡
- âœ… ç¡®ä¿æ‰€æœ‰å¼•ç”¨çš„å›¾æ ‡æ–‡ä»¶éƒ½å­˜åœ¨

### 2. å­—ä½“ç®¡ç†æœ€ä½³å®è·µ
- âœ… ç¦ç”¨å¤–éƒ¨å­—ä½“åŠ è½½
- âœ… ä½¿ç”¨ç³»ç»Ÿå­—ä½“æ ˆ
- âœ… é¿å…ä¾èµ–ç½‘ç»œå­—ä½“èµ„æº
- âœ… åœ¨app.wxssä¸­ç»Ÿä¸€å­—ä½“é…ç½®

### 3. TDesignç»„ä»¶ä½¿ç”¨å»ºè®®
- âœ… ä½¿ç”¨ç»„ä»¶çš„åŠŸèƒ½ï¼Œä¸ä¾èµ–å…¶å›¾æ ‡å­—ä½“
- âœ… ç”¨è‡ªå®šä¹‰å›¾æ ‡æ›¿ä»£ç»„ä»¶é»˜è®¤å›¾æ ‡
- âœ… åœ¨å…¨å±€æ ·å¼ä¸­è¦†ç›–ç»„ä»¶æ ·å¼
- âœ… æµ‹è¯•æ‰€æœ‰ç»„ä»¶åœ¨ç¦»çº¿ç¯å¢ƒä¸‹çš„è¡¨ç°

### 4. WXSSè¯­æ³•å…¼å®¹æ€§
- âœ… é¿å…ä½¿ç”¨é€šé…ç¬¦é€‰æ‹©å™¨`*`
- âœ… ä½¿ç”¨å…·ä½“çš„å…ƒç´ é€‰æ‹©å™¨
- âœ… æµ‹è¯•æ‰€æœ‰CSSè§„åˆ™çš„å…¼å®¹æ€§
- âœ… éµå¾ªå°ç¨‹åºWXSSè§„èŒƒ

## ğŸš€ éªŒè¯ä¿®å¤æ•ˆæœ

### æ£€æŸ¥æ¸…å•
- [ ] WXSSç¼–è¯‘æ— é”™è¯¯
- [ ] æ‰€æœ‰å›¾æ ‡æ­£å¸¸æ˜¾ç¤º
- [ ] æ— å›¾æ ‡åŠ è½½é”™è¯¯
- [ ] æ— å­—ä½“åŠ è½½é”™è¯¯
- [ ] é¡µé¢æ ·å¼æ­£å¸¸
- [ ] åŠŸèƒ½ç‚¹å‡»æ­£å¸¸

### æµ‹è¯•æ­¥éª¤
1. **é‡æ–°ç¼–è¯‘é¡¹ç›®**
   ```bash
   # æ¸…ç†å¹¶é‡æ–°æ„å»º
   npm run build
   ```

2. **åœ¨å¼€å‘è€…å·¥å…·ä¸­æµ‹è¯•**
   - æ‰“å¼€é¦–é¡µï¼Œæ£€æŸ¥å››ä¸ªåŠŸèƒ½å›¾æ ‡
   - æŸ¥çœ‹æ§åˆ¶å°ï¼Œç¡®è®¤æ— é”™è¯¯ä¿¡æ¯
   - æµ‹è¯•å„ä¸ªåŠŸèƒ½ç‚¹å‡»æ˜¯å¦æ­£å¸¸

3. **åœ¨çœŸæœºä¸Šæµ‹è¯•**
   - é¢„è§ˆäºŒç»´ç æ‰«ç æµ‹è¯•
   - ç¡®è®¤åœ¨ç½‘ç»œç¯å¢ƒè¾ƒå·®æ—¶ä¹Ÿèƒ½æ­£å¸¸æ˜¾ç¤º

## ğŸ“‹ å¸¸è§é—®é¢˜

### Q: å›¾æ ‡æ˜¾ç¤ºä¸ºç©ºç™½æˆ–é»˜è®¤å›¾æ ‡
**A:** æ£€æŸ¥å›¾æ ‡æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿ä½¿ç”¨ç»å¯¹è·¯å¾„`/assets/icons/xxx.png`

### Q: ä»ç„¶æœ‰å­—ä½“åŠ è½½é”™è¯¯
**A:** ç¡®è®¤app.wxssä¸­çš„å­—ä½“ç¦ç”¨è§„åˆ™å·²ç”Ÿæ•ˆï¼Œå¯èƒ½éœ€è¦é‡æ–°ç¼–è¯‘é¡¹ç›®

### Q: WXSSç¼–è¯‘é”™è¯¯
**A:** æ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº†ä¸å…¼å®¹çš„CSSè¯­æ³•ï¼Œå¦‚é€šé…ç¬¦é€‰æ‹©å™¨`*`ï¼Œæ”¹ç”¨å…·ä½“çš„å…ƒç´ é€‰æ‹©å™¨

### Q: TDesignç»„ä»¶æ ·å¼å¼‚å¸¸
**A:** æ£€æŸ¥æ˜¯å¦æœ‰æ ·å¼å†²çªï¼Œç¡®ä¿è‡ªå®šä¹‰æ ·å¼ä¼˜å…ˆçº§è¶³å¤Ÿé«˜

### Q: æ–°å¢å›¾æ ‡åä¸æ˜¾ç¤º
**A:** ç¡®ä¿å›¾æ ‡æ–‡ä»¶å­˜åœ¨äºæ­£ç¡®è·¯å¾„ï¼Œå¹¶ä½¿ç”¨æ­£ç¡®çš„æ–‡ä»¶å

## ğŸ”„ å›æ»šæ–¹æ¡ˆ

å¦‚æœä¿®å¤åå‡ºç°æ–°é—®é¢˜ï¼Œå¯ä»¥ï¼š

1. **æ¢å¤åŸå§‹æ–‡ä»¶**
   ```bash
   npm run optimize:simple:restore
   ```

2. **æ£€æŸ¥Gitå†å²**
   ```bash
   git log --oneline
   git checkout <commit-hash> -- <file-path>
   ```

3. **é‡æ–°åº”ç”¨ä¿®å¤**
   - æŒ‰ç…§æœ¬æ–‡æ¡£é‡æ–°æ‰§è¡Œä¿®å¤æ­¥éª¤
   - é€æ­¥æµ‹è¯•æ¯ä¸ªä¿®æ”¹çš„æ•ˆæœ

## ğŸ“ˆ ä¼˜åŒ–å»ºè®®

### æ€§èƒ½ä¼˜åŒ–
- å‹ç¼©å›¾æ ‡æ–‡ä»¶å¤§å°
- ä½¿ç”¨WebPæ ¼å¼å›¾æ ‡ï¼ˆå¦‚æœæ”¯æŒï¼‰
- åˆå¹¶å°å›¾æ ‡ä¸ºé›ªç¢§å›¾

### ç»´æŠ¤æ€§ä¼˜åŒ–
- å»ºç«‹å›¾æ ‡èµ„æºç®¡ç†è§„èŒƒ
- å®šæœŸæ£€æŸ¥æ— ç”¨çš„å›¾æ ‡æ–‡ä»¶
- ç»Ÿä¸€å›¾æ ‡è®¾è®¡é£æ ¼

### å…¼å®¹æ€§ä¼˜åŒ–
- æµ‹è¯•ä¸åŒè®¾å¤‡ä¸Šçš„æ˜¾ç¤ºæ•ˆæœ
- ç¡®ä¿åœ¨å¼±ç½‘ç¯å¢ƒä¸‹çš„è¡¨ç°
- è€ƒè™‘æ·±è‰²æ¨¡å¼é€‚é… 